## Cms на Laravel

<h3>Создание CMS для управления контентом блога:</h3>
<h5>Задачи:</h5>
<ul>
    <li>Возможность регистрации и авторизации пользователя</li>
    <li>Зарегистрированные пользователи могут писать статьи, новости, оставлять комментарии, добавлять теги</li>
    <li>Определить ресурсы и обеспечить URL ресурсов</li>
    <li>В разделе администрирования сделать возможность администрировать статьи, новости и формировать отчеты по сайту</li>
    <li>Выборка статей и новостей по тегам</li>
    <li>При создании статей или новостей, отправляются уведомления всем пользователям используя API PushAll</li>
    <li>Все отчеты по сайту создаются в форме Jobs, ставятся в очереди и выполняются воркером</li>
    <li>Раздел администрирования доступен только с ролью Администратора</li>
    <li>При генерации отчета, результат записывается в Excel файл и прицепляется вложением к письму</li>
    <li>Использовать кеширование везде, кроме раздела статистики и отчетов</li>
    <li>При обновлении статьи, всем администраторам отправляется уведомление через websocket об изменении статьи</li>
    <li>Для очередей и Broadcast использовать Redis</li>
    <li>Использовать Laravel-Echo-Server и Socket.io</li>
    <li>Для тегов использовать полиморфные отношения</li>
</ul>

<h6>Установка для Docker:</h6>
<ol>
    <li>Создаем папку проекта, например blog</li>
    <li>В этой папке делаем <code>git clone https://github.com/grogg19/laravel_skillbox .</code></li>
    <li>Подгрузка зависимостей<code>composer install</code></li>
    <li><code>docker build -t laravel-skillbox .</code></li>
    <li>Дальше подключаем образ laravel-skillbox через клиент Docker либо командой:<br>
        <code>docker run --name laravel-skillbox -p 80:80 -p 3306:3306 -p 6001:6001 -v /путь/к/папке/проекта:/home/www laravel-skillbox</code>
    </li>
    <li>Запуск созданного контейнера laravel-skillbox</li>
    <li>Подгрузка модулей node <code>npm install</code></li>
    <li>Инициализация Laravel Echo сервера <code>laravel-echo-server init</code> В качестве параметра "database" указать "redis".</li>
    <li>Генерация ключа приложения <code>php artisan key:generate</code></li>
    <li>Миграции с сидерами <code>php artisan migrate --seed</code></li>
    <li>Для работы push сообщений, в проекте использован сервис PushAll, поэтому необходимо указать PUSHALL_PRIVATE_KEY и PUSHALL_PRIVATE_ID в настройках в файле .env. Получить их можно, создав аккаунт на этом сервисе.</li>
    <li>Ready to work!</li>
</ol>
